'From MIT Squeak 0.9.4 (June 1, 2003) [No updates present.] on 17 December 2012 at 2:10:15 pm'!DialogBoxMorph subclass: #UploadDialog	instanceVariableNames: 'scratchFrame title user pass path description email tag1 tag2 tag3 selectedlicense '	classVariableNames: ''	poolDictionaries: ''	category: 'Scratch-UI-Dialogs'!!UploadDialog methodsFor: 'interaction'!license1on	tag2 off.	tag3 off.	selectedlicense _ 'pd'! !!UploadDialog methodsFor: 'interaction'!license2on	tag1 off.	tag3 off.	selectedlicense _ 'ms'! !!UploadDialog methodsFor: 'interaction'!license3on	tag1 off.	tag2 off.	selectedlicense _ 'cc'! !!UploadDialog methodsFor: 'initialization'!addLicensesTo: t1 	| t2 t3 t4 t5 |	t5 _ ScratchFrameMorph getFont: #ProjectNotes.	t2 _ AlignmentMorph new color: Color transparent;			 width: 207.	tag1 _ ToggleButton onForm: (ScratchFrameMorph skinAt: #radioButtonOn)				offForm: (ScratchFrameMorph skinAt: #radioButton).	tag1 target: self;	 actionSelector: #license1on.	t2 addMorphBack: tag1.	t2 addMorphBack: (StringMorph new contents: '  Public Domain';		 font: t5).	t3 _ AlignmentMorph new color: Color transparent;			 width: 207.	tag2 _ ToggleButton onForm: (ScratchFrameMorph skinAt: #radioButtonOn)				offForm: (ScratchFrameMorph skinAt: #radioButton).	tag2 on; target: self; actionSelector: #license2on.	t3 addMorphBack: tag2.	t3 addMorphBack: (StringMorph new contents: '  Mod Share Project License';		 font: t5).	t4 _ AlignmentMorph new color: Color transparent;			 width: 207.	tag3 _ ToggleButton onForm: (ScratchFrameMorph skinAt: #radioButtonOn)				offForm: (ScratchFrameMorph skinAt: #radioButton).	tag3 target: self;	 actionSelector: #license3on.	t4 addMorphBack: tag3.	t4 addMorphBack: (StringMorph new contents: '  Creative Commons';		 font: t5).	t1 addMorphBack: t2.	t1 addMorphBack: t3.	t1 addMorphBack: t4.	selectedlicense _ 'ms'! !!UploadDialog methodsFor: 'initialization'!createNotesDialogFor: t1 path: t2 	| t3 t4 t5 t6 t7 |	t3 _ ScratchFrameMorph getFont: #ProjectNotes.	title _ StringFieldMorph new contents: '';			 font: t3;			 width: 200.	path _ StringFieldMorph new contents: t2 asUTF8.	user _ StringFieldMorph new contents: '';			 font: t3;			 width: 170.	pass _ nil.	email _ StringFieldMorph new contents: '';			 font: t3;			 width: 207.	description _ ScrollingStringMorph new contents: 'Project description';			 borderWidth: 1;			 borderColor: Color blue;			 cornerStyle: #rounded;			 font: t3;			 width: 250;			 height: 100.	tag1 _ StringFieldMorph new contents: '';			 font: t3;			 width: 207.	tag2 _ StringFieldMorph new contents: '';			 font: t3;			 width: 207.	tag3 _ StringFieldMorph new contents: '';			 font: t3;			 width: 207.	t4 _ AlignmentMorph new color: Color transparent.	t4 addMorphBack: (StringMorph new contents: 'Project title';		 font: t3).	t4 addMorphBack: title.	t5 _ AlignmentMorph new color: Color transparent.	t5 addMorphBack: (StringMorph new contents: 'Scratch Username';		 font: t3).	t5 addMorphBack: user.	t6 _ AlignmentMorph new color: Color transparent.	t6 addMorphBack: (StringMorph new contents: 'Editing Password';		 font: t3).	t6 addMorphBack: pass.	t7 _ AlignmentMorph new color: Color transparent.	t7 addMorphBack: (StringMorph new contents: 'Your email';		 font: t3).	t7 addMorphBack: email.	self title: 'Upload Project to Mod Share'.	mainColumn addMorphBack: (StringMorph new contents: 'Your Information';		 font: t3;		 color: Color blue).	mainColumn addMorphBack: t5.	mainColumn addMorphBack: t6.	mainColumn addMorphBack: t7.	mainColumn addMorphBack: (RectangleMorph new color: Color transparent;		 borderWidth: 0;		 height: 20).	mainColumn addMorphBack: (StringMorph new contents: 'Project Information';		 font: t3;		 color: Color blue).	mainColumn addMorphBack: t4.	mainColumn addMorphBack: (RectangleMorph new color: Color transparent;		 borderWidth: 0;		 height: 7).	mainColumn addMorphBack: description.	mainColumn addMorphBack: (StringMorph new contents: 'Project tags';		 font: t3;		 color: Color blue).	mainColumn addMorphBack: tag1.	mainColumn addMorphBack: tag2.	mainColumn addMorphBack: tag3.	mainColumn addMorphBack: buttonRow.	scratchFrame _ t1.	title contents: scratchFrame projectCommentOrTemplate.	bottomSpacer delete.	bottomSpacer _ nil! !!UploadDialog methodsFor: 'initialization'!initialize	super initialize.	self		withButtonsForYes: false		no: false		okay: true		cancel: true! !!UploadDialog methodsFor: 'upload'!uploadProject	| t1 t2 t3 t4 t5 t6 t7 t8 t9 t10 |	t1 _ title contents asUTF8.	t8 _ description contents asUTF8.	t9 _ email contents asUTF8.	t4 _ path contents asUTF8.	t2 _ user contents asUTF8.	t3 _ 'leave blank for insanity'.	t5 _ tag1 contents asUTF8.	t6 _ tag2 contents asUTF8.	t7 _ tag3 contents asUTF8.	t10 _ 'http://mod-share.freehostingcloud.com/bingo_upload.php?path=' , t4 , '&title=' , t1 , '&tag1=' , t5 , '&tag2=' , t6 , 'tag3=' , t7 , '&tag4=Bingo&tag5=Modshare&desc=' , t8 , '&username=' , t2 , '&password=' , t3 , '&email=' , t9.	ScratchPlugin primOpenURL: t10! !!UploadDialog methodsFor: 'other'!comment	^ description contents! !!UploadDialog methodsFor: 'other'!createNotesDialogFor: t1 	| t2 t3 t4 t5 |	t2 _ ScratchFrameMorph getFont: #ProjectNotes.	title _ StringFieldMorph new contents: '';			 font: t2;			 width: 200.	user _ StringFieldMorph new contents: '';			 font: t2;			 width: 170.	pass _ StringFieldMorph new contents: '';			 font: t2;			 width: 180;			 passwordMode: true.	description _ ScrollingStringMorph new contents: 'Project description';			 borderWidth: 1;			 borderColor: Color blue;			 cornerStyle: #rounded;			 font: t2;			 width: 250;			 height: 100.	t3 _ AlignmentMorph new color: Color transparent.	t3 addMorphBack: (StringMorph new contents: 'Title';		 font: t2).	t3 addMorphBack: title.	t4 _ AlignmentMorph new color: Color transparent.	t4 addMorphBack: (StringMorph new contents: 'Username';		 font: t2).	t4 addMorphBack: user.	t5 _ AlignmentMorph new color: Color transparent.	t5 addMorphBack: (StringMorph new contents: 'Password';		 font: t2).	t5 addMorphBack: pass.	self title: 'Upload Project to Mod Share'.	mainColumn addMorphBack: (StringMorph new contents: 'Your Information';		 font: t2;		 color: Color blue).	mainColumn addMorphBack: t4.	mainColumn addMorphBack: t5.	mainColumn addMorphBack: (RectangleMorph new color: Color transparent;		 borderWidth: 0;		 height: 20).	mainColumn addMorphBack: (StringMorph new contents: 'Project Information';		 font: t2;		 color: Color blue).	mainColumn addMorphBack: t3.	mainColumn addMorphBack: (RectangleMorph new color: Color transparent;		 borderWidth: 0;		 height: 7).	mainColumn addMorphBack: description.	mainColumn addMorphBack: (RectangleMorph new color: Color transparent;		 borderWidth: 0;		 height: 12).	mainColumn addMorphBack: (StringMorph new contents: 'License';		 font: t2;		 color: Color blue).	self addLicensesTo: mainColumn.	mainColumn addMorphBack: buttonRow.	scratchFrame _ t1.	title contents: scratchFrame projectName.	description contents: scratchFrame projectCommentOrTemplate.	bottomSpacer delete.	bottomSpacer _ nil! !!UploadDialog methodsFor: 'other'!descriptionText	^ description contents! !!UploadDialog methodsFor: 'other'!getUserResponse	| t1 t2 |	self openInWorld.	self centerOnScreen.	t1 _ self world.	t1 activeHand newKeyboardFocus: title.	done _ false.	[done]		whileFalse: [t1 doOneCycle].	response = #cancelled ifTrue: [^ #cancelled].	t2 _ DialogBoxMorph new				withButtonsForYes: false				no: false				okay: false				cancel: false.	t2 message: 'Uploading project...'.	t2 openInWorld.	t2 centerOnScreen.	t2 percentDone: 10.	t2 addMessageLine: (AlignmentMorph new color: Color transparent;		 vResizing: #rigid;		 height: 10).	t1 doOneCycle.	scratchFrame		uploadProject: 'http://modshare.tk/upload'		title: self projectTitle asString		description: self descriptionText asString		license: selectedlicense asString		user: self userName asString		password: self passWord asString		progressDlg: t2.	t2 removeBar.	t2 addMessageLine: (t2 buttonLabel: 'OK' action: #delete)! !!UploadDialog methodsFor: 'other'!passWord	^ pass contents! !!UploadDialog methodsFor: 'other'!projectTitle	^ title contents! !!UploadDialog methodsFor: 'other'!userName	^ user contents! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!UploadDialog class	instanceVariableNames: ''!!UploadDialog class methodsFor: 'instance creation'!editNotesFor: t1 	^ self new createNotesDialogFor: t1;	 extent: 350 @ 450! !